<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Sketchpad</title>
        <link rel="stylesheet" href="stylesheet.css">
    </head>
    <body>
        <div id="drawSpace"></div>

        <script>
            let resolution = 2;
            document.body.style.margin = "0px";
            const bt = document.createElement("button");
            bt.width = "100px";
            bt.height = "50px";
            bt.textContent = "Reset";
            bt.addEventListener("click", createGridPrompt);
            document.body.append(bt);
            createGrid(resolution);

            function changeColor (e) {
                //if(e.target.className !== "boxSquare") return;
                e.target.style.backgroundColor = "black";
                //console.log(e.target);
            };

            function createGridPrompt() {
                let size = prompt("#:", "2");
                createGrid(size);
            };

            function createGrid(resolution) {
                let elements = document.getElementsByClassName('boxSquare');
                while(elements.length > 0) {
                    elements[0].parentNode.removeChild(elements[0]);
                }

                for (let rows = 0; rows < resolution; rows++) {
                    const row = document.createElement("div");
                    row.className = "row";
                    row.style.clear = "both";
                    for (let columns = 0; columns < resolution; columns++) {
                        const box = document.createElement("div");
                        box.className = "boxSquare";
                        box.style.backgroundColor = "red";
                        box.style.width = "calc(99vw/" + resolution + ")";
                        box.style.height = "calc(90vh/" + resolution + ")";
                        box.style.float = "left";
                        box.style.margin = "0px";
                        box.id = "box" + rows + columns;
                        row.appendChild(box);
                    };
                    document.body.append(row);
                };
                const boxes = document.querySelectorAll('.boxSquare');
                boxes.forEach(box => box.addEventListener('mouseover', changeColor));
            }
        </script>
    </body>
</html>